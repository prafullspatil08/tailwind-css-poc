<div
  class="flex justify-between text-xl font-medium text-gray-900 dark:text-night-200"
>
  <a class="rounded bg-primary-500 p-2" routerLink="/dashboard/post">
    <svg-icon
      src="assets/icons/outline/arrow-left-solid.svg"
      [svgClass]="'h-5 w-5'"
    >
    </svg-icon>
  </a>
  <h3
  class="text-base font-semibold text-gray-400 dark:text-night-200"
>
  Published Date: {{ blogDetails?.publish_date | date : "mediumDate" }}
</h3>
</div>

<h3 class="mb-10 text-center text-xl font-semibold dark:text-night-200 sm:text-2xl">
  {{ blogDetails?.title }}
</h3>
<h2 class="mb-2 text-lg font-semibold text-gray-900 dark:text-night-200">
  Description:
</h2>
<div class="mb-6">
  <ul
    class="list-inside list-disc space-y-1 text-gray-500 dark:text-night-200"
    *ngFor="let desc of blogDescription"
  >
    <li *ngIf="desc?.length > 0">
      {{ desc }}
    </li>
  </ul>
</div>
<form *ngIf="!isLoggedIn">
  <div
    class="mb-4 w-full rounded-lg border border-gray-200 bg-gray-50 dark:border-night-600 dark:bg-night-700"
  >
    <div class="rounded-t-lg bg-white px-4 py-2 dark:bg-night-800">
      <label for="comment" class="sr-only">Your comment</label>
      <textarea
        id="comment"
        name="comment"
        [(ngModel)]="commentMsg"
        rows="4"
        class="w-full border-0 bg-white px-0 text-sm text-gray-900 focus:ring-0 dark:bg-night-800 dark:text-night-200 dark:placeholder-night-400"
        placeholder="Write a comment..."
        required
      ></textarea>
    </div>
    <div
      class="flex items-center justify-between border-t px-3 py-2 dark:border-night-600"
    >
      <button
        type="submit"
        data-modal-target="authentication-modal"
        data-modal-toggle="authentication-modal"
        class="inline-flex items-center rounded-lg bg-primary-700 px-4 py-2.5 text-center text-xs font-medium text-gray-900 focus:ring-4 focus:ring-primary-200 hover:bg-primary-800 dark:focus:ring-primary-900"
      >
        Comment
      </button>
      <button
        *ngIf="showCommentBtn"
        type="submit"
        (click)="postComment()"
        class="inline-flex items-center rounded-lg bg-primary-700 px-4 py-2.5 text-center text-xs font-medium text-gray-900 focus:ring-4 focus:ring-primary-200 hover:bg-primary-800 dark:focus:ring-primary-900"
      >
        Post Comment
      </button>
      <div class="flex space-x-1 pl-0 sm:pl-2">
        <button
          type="button"
          class="inline-flex cursor-pointer justify-center rounded p-2 text-gray-900 hover:bg-gray-100 hover:text-gray-900 dark:text-night-200 dark:hover:bg-gray-600 dark:hover:text-gray-900"
        >
          <svg
            aria-hidden="true"
            class="h-5 w-5"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z"
              clip-rule="evenodd"
            ></path>
          </svg>
          <span class="sr-only">Attach file</span>
        </button>
        <button
          type="button"
          class="inline-flex cursor-pointer justify-center rounded p-2 text-gray-900 hover:bg-gray-100 hover:text-gray-900 dark:text-night-200 dark:hover:bg-gray-600 dark:hover:text-gray-900"
        >
          <svg
            aria-hidden="true"
            class="h-5 w-5"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
              clip-rule="evenodd"
            ></path>
          </svg>
          <span class="sr-only">Set location</span>
        </button>
        <button
          type="button"
          class="inline-flex cursor-pointer justify-center rounded p-2 text-gray-900 hover:bg-gray-100 hover:text-gray-900 dark:text-night-200 dark:hover:bg-gray-600 dark:hover:text-gray-900"
        >
          <svg
            aria-hidden="true"
            class="h-5 w-5"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z"
              clip-rule="evenodd"
            ></path>
          </svg>
          <span class="sr-only">Upload image</span>
        </button>
      </div>
    </div>
  </div>
</form>

<div
  id="authentication-modal"
  tabindex="-1"
  aria-hidden="true"
  class="fixed left-0 right-0 top-0 z-50 hidden h-[calc(100%-1rem)] max-h-full w-full overflow-y-auto p-4 overflow-x-hidden md:inset-0"
>
  <div class="relative max-h-full w-full max-w-md">
    <div class="relative rounded-lg bg-white shadow dark:bg-night-700">
      <button
        type="button"
        id="close_modal"
        class="absolute right-2.5 top-3 ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-900"
        data-modal-hide="authentication-modal"
      >
        <svg
          aria-hidden="true"
          class="h-5 w-5"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
            clip-rule="evenodd"
          ></path>
        </svg>
        <span class="sr-only">Close modal</span>
      </button>
      <div class="px-6 py-6 lg:px-8">
        <h3 class="mb-4 text-xl font-medium text-gray-900 dark:text-night-200">
          Tell us about yourself
        </h3>
        <form [formGroup]="commentDetailForm">
          <div class="grid md:grid-cols-2 md:gap-6">
            <div class="group relative z-0 mb-6 w-full">
              <input
                type="text"
                name="floating_first_name"
                formControlName="firstName"
                id="floating_first_name"
                class="peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-primary-600 focus:outline-none focus:ring-0 dark:border-night-600 dark:text-night-200 dark:focus:border-primary-500"
                placeholder=" "
              />
              <label
                for="floating_first_name"
                class="absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-900 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-primary-600 dark:text-night-200 peer-focus:dark:text-primary-500"
                >First name</label
              >
              <ng-container
                *ngIf="
                  commentDetailForm.controls['firstName'].invalid &&
                  (commentDetailForm.controls['firstName'].dirty ||
                    commentDetailForm.controls['firstName'].touched)
                "
              >
                <p
                  *ngIf="
                    commentDetailForm.controls['firstName']?.errors['required']
                  "
                  class="mt-2 text-sm text-red-600 dark:text-red-500"
                >
                  *Required Fields
                </p>
              </ng-container>
            </div>
            <div class="group relative z-0 mb-6 w-full">
              <input
                type="text"
                name="floating_last_name"
                formControlName="lastName"
                id="floating_last_name"
                class="peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-primary-600 focus:outline-none focus:ring-0 dark:border-night-600 dark:text-night-200 dark:focus:border-primary-500"
                placeholder=" "
              />
              <label
                for="floating_last_name"
                class="absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-900 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-primary-600 dark:text-night-200 peer-focus:dark:text-primary-500"
                >Last name</label
              >
              <ng-container
                *ngIf="
                  commentDetailForm.controls['lastName'].invalid &&
                  (commentDetailForm.controls['lastName'].dirty ||
                    commentDetailForm.controls['lastName'].touched)
                "
              >
                <p
                  *ngIf="
                    commentDetailForm.controls['lastName']?.errors['required']
                  "
                  class="mt-2 text-sm text-red-600 dark:text-red-500"
                >
                  *Required Fields
                </p>
              </ng-container>
            </div>
          </div>
          <div class="group relative z-0 mb-6 w-full">
            <input
              type="email"
              name="floating_email"
              formControlName="email"
              id="floating_email"
              class="peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-primary-600 focus:outline-none focus:ring-0 dark:border-night-600 dark:text-night-200 dark:focus:border-primary-500"
              placeholder=" "
            />
            <label
              for="floating_email"
              class="absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-900 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-primary-600 dark:text-night-200 peer-focus:dark:text-primary-500"
              >Email address</label
            >
            <ng-container
              *ngIf="
                commentDetailForm.controls['email'].invalid &&
                (commentDetailForm.controls['email'].dirty ||
                  commentDetailForm.controls['email'].touched)
              "
            >
              <p
                *ngIf="commentDetailForm.controls['email']?.errors['required']"
                class="mt-2 text-sm text-red-600 dark:text-red-500"
              >
                *Required Fields
              </p>
            </ng-container>
          </div>
          <div class="group relative z-0 mb-6 w-full">
            <input
              type="text"
              formControlName="phoneNo"
              pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
              name="floating_phone"
              id="floating_phone"
              class="peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-primary-600 focus:outline-none focus:ring-0 dark:border-night-600 dark:text-night-200 dark:focus:border-primary-500"
              placeholder=" "
            />
            <label
              for="floating_phone"
              class="absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 transform text-sm text-gray-900 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:font-medium peer-focus:text-primary-600 dark:text-night-200 peer-focus:dark:text-primary-500"
              >Phone number (123-456-7890)</label
            >
            <ng-container
              *ngIf="
                commentDetailForm.controls['phoneNo'].invalid &&
                (commentDetailForm.controls['phoneNo'].dirty ||
                  commentDetailForm.controls['phoneNo'].touched)
              "
            >
              <p
                *ngIf="
                  commentDetailForm.controls['phoneNo']?.errors['required']
                "
                class="mt-2 text-sm text-red-600 dark:text-red-500"
              >
                *Required Fields
              </p>
            </ng-container>
          </div>

          <button
            (click)="registeredUser()"
            type="submit"
            class="w-full rounded-lg bg-primary-700 px-5 py-2.5 text-center text-sm font-medium text-gray-900 focus:outline-none focus:ring-4 focus:ring-primary-300 hover:bg-primary-800 dark:bg-primary-600 dark:focus:ring-primary-800 dark:hover:bg-primary-700 sm:w-auto"
          >
            Submit
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
